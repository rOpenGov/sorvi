<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>sorvi Tutorial â€¢ sorvi</title>
<script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="sorvi Tutorial">
<!-- rogtemplate style sheet --><link href="../BS5/rogtemplate.min.css" rel="stylesheet">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">sorvi</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.8.21</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/finnish-historical-maps.html">Finnish historical maps with sorvi R package</a></li>
    <li><a class="dropdown-item" href="../articles/sorvi_tutorial.html">sorvi Tutorial</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/rOpenGov/sorvi/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>sorvi Tutorial</h1>
                        <h4 data-toc-skip class="author">rOpenGov core
team</h4>
            
            <h4 data-toc-skip class="date">2026-02-17</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/rOpenGov/sorvi/blob/main/vignettes/sorvi_tutorial.Rmd" class="external-link"><code>vignettes/sorvi_tutorial.Rmd</code></a></small>
      <div class="d-none name"><code>sorvi_tutorial.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="finnish-open-government-data-toolkit-for-r">Finnish open (government) data toolkit for R<a class="anchor" aria-label="anchor" href="#finnish-open-government-data-toolkit-for-r"></a>
</h2>
<div class="section level3">
<h3 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h3>
<p>sorvi package was originally intended for hosting various algorithms
for Finnish open goverment data in <a href="https://www.r-project.org" class="external-link">R</a>. After being superseded by later
rOpenGov packages that are more specialized in scope (such as <a href="https://github.com/rOpenGov/geofi" class="external-link">geofi</a>, <a href="https://github.com/rOpenGov/hetu" class="external-link">hetu</a> and <a href="https://github.com/rOpenGov/pxweb" class="external-link">pxweb</a>), sorvi has now found
a new life in hosting various functions that are helpful in rOpenGov
package maintenance, authoring and preparing presentations.</p>
</div>
<div class="section level3">
<h3 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h3>
<p>Install the stable release version from CRAN in R:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"sorvi"</span><span class="op">)</span></span></code></pre></div>
<p>Alternatively, use <code>remotes</code> package to install the latest
development version from GitHub:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://remotes.r-lib.org" class="external-link">remotes</a></span><span class="op">)</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"ropengov/sorvi"</span><span class="op">)</span></span></code></pre></div>
<p>Loading the package in R command line:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ropengov/sorvi" class="external-link">sorvi</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="using-the-package">Using the package<a class="anchor" aria-label="anchor" href="#using-the-package"></a>
</h3>
<p>The number of functions in this package has been reduced compared to
older versions.</p>
<p>Get download statistics of eurostat-package, by year:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cran_downloads.html">cran_downloads</a></span><span class="op">(</span>pkgs <span class="op">=</span> <span class="st">"eurostat"</span>, sum <span class="op">=</span> <span class="st">"by_year"</span>, use.cache <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">df</span></span></code></pre></div>
<p>Get download statistics of various rOpenGov packages over time and
draw a chart:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">packages</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"eurostat"</span>, <span class="st">"giscoR"</span>, <span class="st">"sotkanet"</span>, <span class="st">"geofi"</span>, <span class="st">"sweidnumbr"</span><span class="op">)</span></span>
<span><span class="va">plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cran_downloads.html">cran_downloads</a></span><span class="op">(</span>pkgs <span class="op">=</span> <span class="va">packages</span>, sum <span class="op">=</span> <span class="st">"total"</span>, output <span class="op">=</span> <span class="st">"plot"</span>, use.cache <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">plot</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="historical-mapping-and-data-sets">Historical mapping and data sets<a class="anchor" aria-label="anchor" href="#historical-mapping-and-data-sets"></a>
</h3>
<p>The sorvi package includes 2 datasets:
<code><a href="../reference/kunnat1865_2021.html">sorvi::kunnat1865_2021</a></code> for listing municipalities that
existed between years 1865-2021, and
<code><a href="../reference/polygons1909_2009.html">sorvi::polygons1909_2009</a></code> that contains polygons for most of
the municipalities contained by the former dataset. Despite the slightly
misleading name, the polygons dataset contains shapes for most
municipalities from the 1800s as well, as municipalities and their
borders remained relatively unchanged before the 2nd World War and late
1900s-early 2000s municipality mergers.</p>
<p>While users most definitely can use the datasets directly in their
work (and improvements / additions / forks are most welcome!), we have
included <code><a href="../reference/get_municipalities.html">get_municipalities()</a></code> function for conveniently
returning a map of Finland as it existed at a certain point in time.</p>
<p>A simple example of using the <code><a href="../reference/get_municipalities.html">get_municipalities()</a></code>
function for drawing a map containing Finnish municipalities in
1931:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="va">map1931</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_municipalities.html">get_municipalities</a></span><span class="op">(</span>year <span class="op">=</span> <span class="fl">1931</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">map1931</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">geom_sf</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="sorvi_tutorial_files/figure-html/example_map-1.png" class="r-plt" alt="" width="700"></p>
<p>See sorvi article <a href="https://ropengov.github.io/sorvi/articles/finnish-historical-maps.html">Finnish
historical maps with sorvi R package</a> for more information and
examples.</p>
</div>
<div class="section level3">
<h3 id="licensing-and-citations">Licensing and Citations<a class="anchor" aria-label="anchor" href="#licensing-and-citations"></a>
</h3>
<p>This work can be freely used, modified and distributed under the <a href="https://en.wikipedia.org/wiki/BSD_licenses" class="external-link">Two-clause BSD
license</a>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/citation.html" class="external-link">citation</a></span><span class="op">(</span><span class="st">"sorvi"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Kindly cite the sorvi R package as follows:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   Leo Lahti, Juuso Parkkinen, Joona Lehtomaki, Juuso Haapanen, Einari</span></span>
<span><span class="co">#&gt;   Happonen, Jussi Paananen and Pyry Kantanen (2023). sorvi: Finnish</span></span>
<span><span class="co">#&gt;   open data toolkit for R. R package version 0.8.21 URL:</span></span>
<span><span class="co">#&gt;   https://github.com/rOpenGov/sorvi</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; A BibTeX entry for LaTeX users is</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   @Misc{,</span></span>
<span><span class="co">#&gt;     title = {sorvi: Finnish open government data toolkit for R},</span></span>
<span><span class="co">#&gt;     author = {Leo Lahti and Juuso Parkkinen and Joona Lehtomaki and Juuso Haapanen and Einari Happonen and Jussi Paananen and Pyry Kantanen},</span></span>
<span><span class="co">#&gt;     doi = {10.5281/zenodo.598121},</span></span>
<span><span class="co">#&gt;     url = {https://github.com/rOpenGov/sorvi},</span></span>
<span><span class="co">#&gt;     year = {2023},</span></span>
<span><span class="co">#&gt;     note = {R package version 0.8.21},</span></span>
<span><span class="co">#&gt;   }</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Many thanks for all contributors!</span></span></code></pre></div>
<p>For data attribution, see dataset documentation.</p>
</div>
<div class="section level3">
<h3 id="session-info">Session info<a class="anchor" aria-label="anchor" href="#session-info"></a>
</h3>
<p>This vignette was created with</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/sessionInfo.html" class="external-link">sessionInfo</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; R version 4.5.2 (2025-10-31)</span></span>
<span><span class="co">#&gt; Platform: x86_64-pc-linux-gnu</span></span>
<span><span class="co">#&gt; Running under: Ubuntu 24.04.3 LTS</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Matrix products: default</span></span>
<span><span class="co">#&gt; BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3 </span></span>
<span><span class="co">#&gt; LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.26.so;  LAPACK version 3.12.0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; locale:</span></span>
<span><span class="co">#&gt;  [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8       </span></span>
<span><span class="co">#&gt;  [4] LC_COLLATE=C.UTF-8     LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8   </span></span>
<span><span class="co">#&gt;  [7] LC_PAPER=C.UTF-8       LC_NAME=C              LC_ADDRESS=C          </span></span>
<span><span class="co">#&gt; [10] LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; time zone: UTC</span></span>
<span><span class="co">#&gt; tzcode source: system (glibc)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; attached base packages:</span></span>
<span><span class="co">#&gt; [1] stats     graphics  grDevices utils     datasets  methods   base     </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; other attached packages:</span></span>
<span><span class="co">#&gt; [1] ggplot2_4.0.2 sorvi_0.8.21 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; loaded via a namespace (and not attached):</span></span>
<span><span class="co">#&gt;  [1] tidyr_1.3.2        sass_0.4.10        generics_0.1.4     class_7.3-23      </span></span>
<span><span class="co">#&gt;  [5] xml2_1.5.2         KernSmooth_2.23-26 digest_0.6.39      magrittr_2.0.4    </span></span>
<span><span class="co">#&gt;  [9] evaluate_1.0.5     grid_4.5.2         timechange_0.4.0   RColorBrewer_1.1-3</span></span>
<span><span class="co">#&gt; [13] fastmap_1.2.0      jsonlite_2.0.0     e1071_1.7-17       backports_1.5.0   </span></span>
<span><span class="co">#&gt; [17] DBI_1.2.3          httr_1.4.8         rvest_1.0.5        purrr_1.2.1       </span></span>
<span><span class="co">#&gt; [21] scales_1.4.0       textshaping_1.0.4  jquerylib_0.1.4    cli_3.6.5         </span></span>
<span><span class="co">#&gt; [25] rlang_1.1.7        units_1.0-0        withr_3.0.2        cachem_1.1.0      </span></span>
<span><span class="co">#&gt; [29] yaml_2.3.12        tools_4.5.2        checkmate_2.3.4    dplyr_1.2.0       </span></span>
<span><span class="co">#&gt; [33] vctrs_0.7.1        R6_2.6.1           proxy_0.4-29       lifecycle_1.0.5   </span></span>
<span><span class="co">#&gt; [37] lubridate_1.9.5    classInt_0.4-11    fs_1.6.6           htmlwidgets_1.6.4 </span></span>
<span><span class="co">#&gt; [41] ragg_1.5.0         pkgconfig_2.0.3    desc_1.4.3         pkgdown_2.2.0     </span></span>
<span><span class="co">#&gt; [45] pillar_1.11.1      bslib_0.10.0       gtable_0.3.6       Rcpp_1.1.1        </span></span>
<span><span class="co">#&gt; [49] glue_1.8.0         gh_1.5.0           sf_1.0-24          systemfonts_1.3.1 </span></span>
<span><span class="co">#&gt; [53] xfun_0.56          tibble_3.3.1       tidyselect_1.2.1   knitr_1.51        </span></span>
<span><span class="co">#&gt; [57] farver_2.1.2       htmltools_0.5.9    rmarkdown_2.30     dlstats_0.1.7     </span></span>
<span><span class="co">#&gt; [61] compiler_4.5.2     S7_0.2.1</span></span></code></pre></div>
<p>To call in the statistician after the experiment is done may be no
more than asking him to perform a post-mortem examination: he may be
able to say what the experiment died of. ~ Sir Ronald Aylmer Fisher</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Leo Lahti, Juuso Parkkinen, Joona Lehtomaki, Pyry Kantanen. <br>Part of <a href="http://ropengov.org/" class="external-link"><img src="https://ropengov.github.io/rogtemplate/logo2020_white_orange.svg" height="20" class="d-inline-block mx-1 rog-logo" alt="rOpenGov R package for open government data analytics"></a></p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
