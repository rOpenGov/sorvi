# sorvi

[![Watch on
GitHub](https://img.shields.io/github/watchers/ropengov/sorvi.svg?style=social)](https://github.com/ropengov/sorvi/watchers)
[![Star on
GitHub](https://img.shields.io/github/stars/ropengov/sorvi.svg?style=social)](https://github.com/ropengov/sorvi/stargazers)
[![Follow on
Twitter](https://img.shields.io/twitter/follow/ropengov.svg?style=social)](https://twitter.com/intent/follow?screen_name=ropengov)

sorvi package was originally intended for hosting various algorithms for
Finnish open goverment data in [R](https://www.r-project.org). After
being superseded by later rOpenGov packages that are more specialized in
scope (such as geofi, hetu and pxweb), sorvi has now found a new life in
hosting various functions that are helpful in rOpenGov package
maintenance, authoring and preparing presentations.

Originally rOpenGov/sorvi was a fork of
[juusohaapanen/soRvi-dev](https://github.com/juusohaapanen/soRvi-dev)
but rOpenGov’s sorvi branch has since taken a life of its own. The fork
was detached fron juusohaapanen’s branch in November 2021.

## Installation

You can install the development version of sorvi from
[GitHub](https://github.com/) with:

``` r
# install.packages("remotes")
remotes::install_github("rOpenGov/sorvi")
```

Development version can be also installed using the
[r-universe](https://ropengov.r-universe.dev):

``` r
# Enable this universe
options(repos = c(
  ropengov = "https://ropengov.r-universe.dev",
  CRAN = "https://cloud.r-project.org"
))
install.packages("sorvi")
```

There is still a CRAN release version of sorvi and while it passes CRAN
checks without problems it contains mostly outdated functions. It is
therefore highly recommended to use development version of the package.

## Using the package

Loading the package in R:

``` r
library(sorvi)
```

Get download statistics of eurostat-package, by year:

``` r
df <- cran_downloads(pkgs = "eurostat", sum = "by_year", use.cache = FALSE)
df
#> # A tibble: 5 × 3
#> # Groups:   year [5]
#>    year package      n
#>   <dbl> <fct>    <int>
#> 1  2018 eurostat 18932
#> 2  2019 eurostat 28454
#> 3  2020 eurostat 31298
#> 4  2021 eurostat 30307
#> 5  2022 eurostat 27656
```

Get download statistics of various rOpenGov packages over time and draw
a chart:

``` r
packages <- c("eurostat", "giscoR", "sotkanet", "geofi", "sweidnumbr")
plot <- cran_downloads(pkgs = packages, sum = "total", output = "plot", use.cache = FALSE)
plot
```

![](reference/figures/README-example_visualize-1.png)

For more examples, check the [package
vignette](https://ropengov.github.io/sorvi/articles/sorvi_tutorial.html).

## Contributing

- [Submit suggestions and bug
  reports](https://github.com/ropengov/sorvi/issues) (provide the output
  of [`sessionInfo()`](https://rdrr.io/r/utils/sessionInfo.html) and
  `packageVersion("sorvi")` and preferably provide a [reproducible
  example](http://adv-r.had.co.nz/Reproducibility.md))
- [Send a pull request](https://github.com/ropengov/sorvi/)
- [Star us on the Github page](https://github.com/ropengov/sorvi/)
- [See our website](https://ropengov.org/community/) for additional
  contact information

## Acknowledgements

**Kindly cite this work** as follows:

[Leo Lahti](https://github.com/antagomir/), Juuso Parkkinen, Joona
Lehtomaki and Pyry Kantanen (2023). sorvi: Finnish open data toolkit for
R. R package version 0.8.21. URL: <https://github.com/rOpenGov/sorvi>

We are grateful to Jussi Paananen, Einari Happonen, Juuso Haapanen, and
all other
[contributors](https://github.com/rOpenGov/sorvi/graphs/contributors)!
This project is part of [rOpenGov](https://ropengov.org).

# Package index

## All functions

- [`cran_downloads()`](https://ropengov.github.io/sorvi/reference/cran_downloads.md)
  : Get CRAN download statistics
- [`get_ifpi_charts()`](https://ropengov.github.io/sorvi/reference/get_ifpi_charts.md)
  : Get IFPI Finland music consumption statistics
- [`get_municipalities()`](https://ropengov.github.io/sorvi/reference/get_municipalities.md)
  : Select Municipalities by Year
- [`gh_issue_stats()`](https://ropengov.github.io/sorvi/reference/gh_issue_stats.md)
  : GitHub issues statistics
- [`kunnat1865_2021`](https://ropengov.github.io/sorvi/reference/kunnat1865_2021.md)
  : Municipality dataset
- [`load_sorvi_data()`](https://ropengov.github.io/sorvi/reference/load_sorvi_data.md)
  : Supporting Data
- [`polygons1909_2009`](https://ropengov.github.io/sorvi/reference/polygons1909_2009.md)
  : Municipality geometries
- [`sorvi-package`](https://ropengov.github.io/sorvi/reference/sorvi-package.md)
  [`sorvi`](https://ropengov.github.io/sorvi/reference/sorvi-package.md)
  : Algorithmic Tools for Open Data in Finland

# Articles

### All vignettes

- [Finnish historical maps with sorvi R
  package](https://ropengov.github.io/sorvi/articles/finnish-historical-maps.md):
- [sorvi
  Tutorial](https://ropengov.github.io/sorvi/articles/sorvi_tutorial.md):
