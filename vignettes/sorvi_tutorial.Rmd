---
title: "sorvi Tutorial"
author: rOpenGov core team
date: "`r Sys.Date()`"
output: 
  rmarkdown::html_vignette:
    toc: true
vignette: >
  %\VignetteIndexEntry{sorvi Tutorial}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

Finnish open (government) data toolkit for R
===========

## Introduction

sorvi package was originally intended for hosting various algorithms for Finnish open goverment data in [R](https://www.r-project.org). After being superseded by later rOpenGov packages that are more specialized in scope (such as [geofi](https://github.com/rOpenGov/geofi), [hetu](https://github.com/rOpenGov/hetu) and [pxweb](https://github.com/rOpenGov/pxweb)), sorvi has now found a new life in hosting various functions that are helpful in rOpenGov package maintenance, authoring and preparing presentations.

## Installation

Install the stable release version from CRAN in R:

```{r install, eval=FALSE}
install.packages("sorvi")
```

Alternatively, use `remotes` package to install the latest development version from GitHub:

```{r install2, eval=FALSE}
library(remotes)
remotes::install_github("ropengov/sorvi")
```

Loading the package in R command line:

```{r test, message=FALSE, warning=FALSE, eval=TRUE}
library(sorvi)
```

## Using the package

The number of functions in this package has been reduced compared to older versions. 

Get download statistics of eurostat-package, by year:

```{r example_download_stats, eval=FALSE}
df <- cran_downloads(pkgs = "eurostat", sum = "by_year", use.cache = FALSE)
df
```

Get download statistics of various rOpenGov packages over time and draw a chart:

```{r example_visualize, eval=FALSE}
packages <- c("eurostat", "giscoR", "sotkanet", "geofi", "sweidnumbr")
plot <- cran_downloads(pkgs = packages, sum = "total", output = "plot", use.cache = FALSE)
plot
```

## Licensing and Citations

This work can be freely used, modified and distributed under the 
[Two-clause BSD license](https://en.wikipedia.org/wiki/BSD\_licenses).

```{r citation, message=FALSE, eval=TRUE}
citation("sorvi")
```

## Session info

This vignette was created with

```{r sessioninfo, message=FALSE, warning=FALSE}
sessionInfo()
```

To call in the statistician after the experiment is done may be no more than asking him to perform a post-mortem examination: he may be able to say what the experiment died of. ~ Sir Ronald Aylmer Fisher




# TODO data sets
-------------------------

### Population
* [Väestörekisterikeskus](http://vrk.fi/default.aspx?id=276) Various very useful statistics

 
### Datakatalogit
* [Quandl](http://www.quandl.com/finland) Quandlin Suomi-tilastot
* [DataHub](http://fi.thedatahub.org/dataset) Tämä datakatalogi sisältää keskitettyä ja joukkoistaen kerättyä tietoa suomalaisen yhteiskunnan avoimesta datasta. Pidetään silmällä kiintoisien aineistojen varalta, ja täydennetään itse.
* [Suomi avoimet datat katalogi](http://www.suomi.fi/suomifi/tyohuone/yhteiset_palvelut/avoin_data/)  
* [ManyEyes](http://www-958.ibm.com/software/data/cognos/manyeyes/)  
* [InfoChimps](http://infochimps.com/datasets)  
* [opengov.fi](http://opengov.fi/)  
* [julkinendata.fi](http://www.julkinendata.fi/)  
* [opendatacommons](http://www.opendatacommons.org/)  
* [Google Public data](http://www.google.com/publicdata/home)  
* [DataMarket](http://blog.datamarket.com/2011/10/31/using-datamarket-from-within-r/)  

### Tampere 

* [Tampereen kaupungin avoin data](http://www.tampere.fi/tampereinfo/avoindata.html)

### Kuntien talous ja päätöksenteko
* [Kuntien nimenmuutokset (VRK)](http://vrk.fi/default.aspx?docid=612&site=3&id=0)
* [Kuntaliiton kuntavaali- ja demokratiatilastot](http://www.kunnat.net/fi/tietopankit/tilastot/kuntavaali-ja-demokratiatilastot/Sivut/default.aspx)
* [Kuntien luottamushenkilöiden palkkiot ja korvaukset](http://www.kunnat.net/fi/tietopankit/tilastot/kuntavaali-ja-demokratiatilastot/kuntien-luottamushenkiloiden-palkkiot-ja-korvaukset/Sivut/default.aspx)
* [Kuntatalouden tilastot](http://www.kunnat.net/fi/tietopankit/tilastot/kuntatalous/Sivut/default.aspx)
* [Peruspalvelujen saatavuus ja kustannukset](http://www.hri.fi/fi/data/peruspalvelujen-saatavuus-ja-kustannukset-kuntakortti/)
* [Kuntien talous VM:n sivuilla](http://www.vm.fi/vm/fi/15_kunta_asiat/01_kuntatalous/03_tilastoja/index.jsp)


### Vaalit ja vaalikoneet
* [Maistraatit ja vaalipiirit nimi-tunnus-konversiotaulut (VRK)](http://vrk.fi/default.aspx?docid=719&site=3&id=0)
* [Kunnallisvaalien tulostilastot aikasarjana vuodesta 1983](http://www.vaalit.fi/22381.htm)
* [YLEn vaalikone 2012](http://yle.fi/uutiset/nyt_sita_saa_vaalikonedataa/6331306)
* [HS Kuntavaalikone 2008 vastaukset](http://blogit.hs.fi/hsnext/hsn-kuntavaalikoneen-2008-vastaukset-avodatana) 2012 tulossa tuonnempana
* [Tilastokeskuksen vaalitilastot](http://tilastokeskus.fi/til/vaa.html) (osa jo tehty HSOpeniin 21.5.2012 / LL -> dokumentoi kunnolla wikiin)
* [Puolueiden ohjelmat tekstinä](http://www.fsd.uta.fi/vaalimaatti/vaalit2012/ohjelmat) Vaalimaatti-palvelussa
* [DataHub - Datavaali - katalogi](http://www.datavaalit.fi/resources/catalogue/) Pidetään silmällä kiintoisien aineistojen varalta, ja täydennetään itse.
* [avoindata/Datavaalit-data](https://github.com/avoindata/datavaalit-data) Kokoelma linkkejä ja putsattua dataa datavaalit-hankkeeseen liittyen 


### Politiikka ja talous
* [Taloudellisia-tunnuslukuja](http://www.kunnat.net/fi/tietopankit/tilastot/kuntatalous/kuntien-tilinpaatokset/taloudellisia-tunnuslukuja/Sivut/default.aspx)
* [puoluerahoitus.fi](http://www.puoluerahoitus.fi/fi/index/vaalirahailmoituksia/raportit/Tietoaineistot.html.stx) Vaalirahoitusilmoituksia csv-tiedostoina.
* [Valtiokonttorin raportointipalvelu Netra](http://www.netra.fi/) (tietoa valtion toiminnasta, resursseista ja tuloksellisuudesta)
* [Yhteisöjen tuloverotusdata CSV:nä](http://www.vero.fi/fi-FI/Tietoa_Verohallinnosta/Yhteisojen_tuloverotuksen_julkiset_tiedo%2824348%29)
* [Verotulojen tilitys- ja kertymätietoja kuukausi- ja vuositasoilla](http://veronsaajat.vero.fi/fi-FI/kunnat/Sivut/Default.aspx)
* [OpenSpending](http://openspending.org/eu-commission-fts?_view=default&_time=2010) (Suomen ja muiden maiden saamat EU-tuet ym.). Huom: osallistuvabudjetointi.fi on työstämässä [Suomi-versiota](http://osallistuvabudjetointi.fi/openspending/)  
* [FarmSubsidy](http://farmsubsidy.org/getthedata/download)  
* IATI International Aid Transparency Initiative: Ulkoministeriön avustusdata saatavilla, ks. [IATI-registry](http://www.iatiregistry.org/publisher/finland_mfa) ja [UM:n sivut](http://formin.finland.fi/opendata/IATI/Finland_DM.xml). Mahdollistaa myös vertailut maiden välillä.
* [Kansainvälisen tiedon taulukot](http://tilastokeskus.fi/tup/tilastotietokannat/index.html) Kansainvälisiä tilastotietoja ja tietolähteitä.
* [Suomalaisten poliitikkojen blogit](https://scraperwiki.com/scrapers/finnish_parliamentarians_blogs/)

### Hyvinvointi ja sosioekonomia
* [Kelasto](http://www.kela.fi/kelasto)
* [SPR Veripalvelun myyntidata](http://www.veripalvelu.fi/www/3073) (neljännesvuosittain päivittyviä raportteja SPR Veripalvelun punasolu- ja verihiutalevalmisteiden myynnistä)
* [Eläketurvakekuksen avointa dataa](http://www.etk.fi/fi/service/tilastot/658/apps4finland)
* [Findikaattori](http://www.findikaattori.fi/fi/indicators) Erittäin hyvää indikaattoridataa. Sisältyy THL:n Sotkanettiin 
* [THL Sairastavuusindeksi](http://www.terveytemme.fi/sairastavuusindeksi) (mukana SotkaNetissä)

### Maailma
* [World Values Survey](http://www.worldvaluessurvey.org)  

### Lounais-Suomi
* [Lounaispaikka](http://paikkatietokeskus.lounaispaikka.fi/fi/aineistot/) Avoimia paikkatieto- ym. aineistoja varsinais-Suomesta.

### Tiede ja kulttuuri 
* [Valtion taidemuseon kokoelmien metadata](http://creativecommons.fi/2013/10/valtion-taidemuseo-avaa-taidekokoelmansa-metadatan-avoimena-tietona/) (36000 teosta 6000 taiteilijalta)
* [research.fi-tutkimustilastoja](http://research.fi/voimavarat.html)
* [Wikimedia Research Metadata](https://meta.wikimedia.org/wiki/Research:Data)
* [Aalto-yliopiston open linked data](http://data.aalto.fi/)

### Kirjastot ja kirjallisuus
* [Kirjastotilastot](http://tilastot.kirjastot.fi/fi-FI/vuositilastot.aspx) (kirjastojen sijainnit, lainamäärät, kirjojen määrät, jne. jne.)
* [Kirjastojen avointa dataa](http://data.kirjastot.fi/data.html) (aineistoluettelot, suosituimmat lainat jne.)
* [KirjaSampo](http://kirjoitusalusta.fi/hsopenkirjasampo)  

### Ympäristö
* [Metlan Metinfo](http://www.metla.fi/metinfo/tilasto/) Metsäntutkimuslaitoksen avoimet metsätilastot sekä kansainvälisiä tilastoja!
* [Ilmatieteen laitos (FMI) säätiedot avoin data beta](http://ilmatieteenlaitos.fi/avoin-data-beta)
* [Ilmatieteen laitoksen ilmanlaatuportaali](http://fi.thedatahub.org/it/dataset/ilmanlaatu)
* [Ilmanlaatu-rajapinta](http://www.biomi.org/internet/ilmanlaaturajapinta.html)
* [OIVA-ympäristötietokanta](http://wwwp2.ymparisto.fi/scripts/paikkatieto.asp) 
* [Lintuatlas (API)](http://atlas3.lintuatlas.fi/taustaa/kaytto) Lintujen pesimäatlaksia ym CSV-muodossa Suomessa
* [Avoimet luontohavainnot](http://karhu.luomus.fi/havaintoilmoitin/show/all)
* [Kasviatlas - suomen putkilokasvidata rajapintana](http://www.luomus.fi/kasviatlas/rajapinta.php)

### Information technology and Internet
* [CERT-FI](http://www.cert.fi/katsaukset/tilastot/avoindata.html) suomalaisia verkkoja koskevia haittaohjelma- ja tietoturvaloukkaushavaintoja
* [Suomen verkkosivustojen viikkoluvut](http://tnsmetrix.tns-gallup.fi/public/)
* [TNS Gallup, Suomen web-sivustojen käyttäjämäärät](http://tnsmetrix.tns-gallup.fi/public/)

### Miscellaneous
* [r-finding-data-internet)](http://www.inside-r.org/howto/finding-data-internet)  
* [25-more-ways-to-bring-data-into-r](http://www.r-bloggers.com/25-more-ways-to-bring-data-into-r/)  
* [using-rstats-for-online-data-access](http://www.decisionstats.com/using-rstats-for-online-data-access/)  


